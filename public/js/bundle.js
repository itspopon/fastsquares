/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/client/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/client/app.js":
/*!***************************!*\
  !*** ./src/client/app.js ***!
  \***************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _controllers_game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./controllers/game */ \"./src/client/controllers/game.js\");\n/* harmony import */ var _controllers_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controllers/user */ \"./src/client/controllers/user.js\");\n/* harmony import */ var _controllers_chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controllers/chat */ \"./src/client/controllers/chat.js\");\n/* harmony import */ var _controllers_room__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controllers/room */ \"./src/client/controllers/room.js\");\n/* harmony import */ var _models_gameRoom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/gameRoom */ \"./src/client/models/gameRoom.js\");\n/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/user */ \"./src/client/models/user.js\");\n\n\n\n\n\n\nvar socket = io();\nsocket.user = new _models_user__WEBPACK_IMPORTED_MODULE_5__[\"default\"](socket.id);\n/* --------- */\n\n_models_gameRoom__WEBPACK_IMPORTED_MODULE_4__[\"default\"].buildGrid();\n_controllers_game__WEBPACK_IMPORTED_MODULE_0__[\"playerMoved\"](socket);\n_controllers_game__WEBPACK_IMPORTED_MODULE_0__[\"objectiveCollected\"](socket);\n_controllers_game__WEBPACK_IMPORTED_MODULE_0__[\"playerMovement\"](socket);\n_controllers_game__WEBPACK_IMPORTED_MODULE_0__[\"roomCreated\"](socket);\n_controllers_game__WEBPACK_IMPORTED_MODULE_0__[\"enteringRoom\"](socket);\n_controllers_user__WEBPACK_IMPORTED_MODULE_1__[\"onLoginSubmit\"](socket);\n_controllers_user__WEBPACK_IMPORTED_MODULE_1__[\"onError\"](socket);\n_controllers_user__WEBPACK_IMPORTED_MODULE_1__[\"onEnterRoomSubmit\"](socket);\n_controllers_user__WEBPACK_IMPORTED_MODULE_1__[\"onCreateRoomSubmit\"](socket);\n_controllers_user__WEBPACK_IMPORTED_MODULE_1__[\"onLeaveRoom\"](socket);\n_controllers_room__WEBPACK_IMPORTED_MODULE_3__[\"outOfLives\"](socket);\n_controllers_room__WEBPACK_IMPORTED_MODULE_3__[\"onUserJoined\"](socket);\n_controllers_room__WEBPACK_IMPORTED_MODULE_3__[\"onUserLeft\"](socket);\n_controllers_chat__WEBPACK_IMPORTED_MODULE_2__[\"onChatSubmit\"](socket);\n_controllers_chat__WEBPACK_IMPORTED_MODULE_2__[\"onNewMessage\"](socket);\n\n//# sourceURL=webpack:///./src/client/app.js?");

/***/ }),

/***/ "./src/client/controllers/chat.js":
/*!****************************************!*\
  !*** ./src/client/controllers/chat.js ***!
  \****************************************/
/*! exports provided: onChatSubmit, onNewMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onChatSubmit\", function() { return onChatSubmit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onNewMessage\", function() { return onNewMessage; });\n/* harmony import */ var _util_Chat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Chat */ \"./src/client/util/Chat.js\");\n/* harmony import */ var _util_Input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Input */ \"./src/client/util/Input.js\");\n\n\nvar onChatSubmit = function onChatSubmit(socket) {\n  document.querySelector(\"#chat-form\").addEventListener(\"submit\", function (e) {\n    var username = socket.user.getUsername();\n    var room = socket.user.getRoom();\n    e.preventDefault(); // prevents page reloading\n\n    var message = _util_Input__WEBPACK_IMPORTED_MODULE_1__[\"clean\"]($(\"#m\").val().trim()); // If the user is playing, blur the input after submiting\n\n    if (!socket.user.isSpectator() && room !== \"\") {\n      document.querySelector(\"#m\").blur();\n    }\n\n    if (!message) {\n      return false;\n    }\n\n    socket.emit(\"chat message\", {\n      username: username,\n      message: message\n    });\n    if (message[0] !== \"/\") _util_Chat__WEBPACK_IMPORTED_MODULE_0__[\"addMessage\"](username, message, false, socket);\n    $(\"#m\").val(\"\");\n    return false;\n  });\n};\nvar onNewMessage = function onNewMessage(socket) {\n  socket.on(\"new message\", function (data) {\n    var username = data.username,\n        message = data.message;\n    _util_Chat__WEBPACK_IMPORTED_MODULE_0__[\"addMessage\"](username, message, true, socket);\n  });\n};\n\n//# sourceURL=webpack:///./src/client/controllers/chat.js?");

/***/ }),

/***/ "./src/client/controllers/game.js":
/*!****************************************!*\
  !*** ./src/client/controllers/game.js ***!
  \****************************************/
/*! exports provided: playerMoved, objectiveCollected, playerMovement, roomCreated, enteringRoom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playerMoved\", function() { return playerMoved; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"objectiveCollected\", function() { return objectiveCollected; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playerMovement\", function() { return playerMovement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"roomCreated\", function() { return roomCreated; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enteringRoom\", function() { return enteringRoom; });\n/* harmony import */ var _util_Square__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Square */ \"./src/client/util/Square.js\");\n/* harmony import */ var _util_Render__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Render */ \"./src/client/util/Render.js\");\n/* harmony import */ var _util_Chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Chat */ \"./src/client/util/Chat.js\");\n/* harmony import */ var _models_gameRoom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/gameRoom */ \"./src/client/models/gameRoom.js\");\n\n\n\n // TODO: reset p1 p2 positions in server and client if room is deleted\n// TODO: if exiting room in client, get updated positions from server when rejoininng\n\nvar movePlayer = function movePlayer(pX, pY, socket) {\n  // current player position\n  var x, y, slot;\n  slot = socket.user.getSlot();\n  var playerSlot;\n\n  if (slot === \"player1\") {\n    x = socket.gameRoom.getPlayerPos(1).x;\n    y = socket.gameRoom.getPlayerPos(1).y;\n    playerSlot = 1;\n  } else if (slot === \"player2\") {\n    x = socket.gameRoom.getPlayerPos(2).x;\n    y = socket.gameRoom.getPlayerPos(2).y;\n    playerSlot = 2;\n  } else {\n    return;\n  }\n\n  if (socket.gameRoom.player1.id === \"\" || socket.gameRoom.player2.id === \"\") {\n    return;\n  }\n\n  var newPos = {\n    x: pX + x,\n    y: pY + y\n  }; //console.log(\"NewPos for\", socket.user.getSlot(), `{x:${x} + ${pX}, y: ${y} + ${pY}}`);\n  // check for obstacles\n\n  if (_util_Square__WEBPACK_IMPORTED_MODULE_0__[\"hasObstacle\"](newPos.x, newPos.y, socket.gameRoom.getObstacles())) return; // save new position\n\n  socket.gameRoom.setPlayerPos(playerSlot, newPos.x, newPos.y); // socket logic here (emit \"move player\" {pX, pY}) repeat logic on server for validation\n\n  socket.emit(\"move player\", {\n    pX: pX,\n    pY: pY\n  });\n\n  if (slot === \"player1\") {\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"Player1\"](newPos);\n  } else {\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"Player2\"](newPos);\n  }\n};\n\nvar playerMoved = function playerMoved(socket) {\n  socket.on(\"player moved\", function (data) {\n    if (data.who === 1) {\n      socket.gameRoom.setPlayerPos(1, data.x, data.y);\n      _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"Player1\"](socket.gameRoom.getPlayerPos(1));\n      return;\n    } else {\n      socket.gameRoom.setPlayerPos(2, data.x, data.y);\n      _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"Player2\"](socket.gameRoom.getPlayerPos(2));\n      return;\n    }\n  });\n};\nvar objectiveCollected = function objectiveCollected(socket) {\n  socket.on(\"objective collected\", function (data) {\n    socket.gameRoom.setObjective(data.objective.x, data.objective.y);\n    socket.gameRoom.setObstacles(data.obstacles.map(function (item) {\n      return JSON.stringify(item);\n    }));\n    if (!data.stuck) socket.gameRoom.scoreUp(data.whoId);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"UI\"](socket);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"Obstacles\"](socket.gameRoom.getObstacles());\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"Objective\"](socket.gameRoom.getObjective());\n  });\n};\nvar playerMovement = function playerMovement(socket) {\n  document.body.addEventListener(\"keydown\", function (e) {\n    var key = e.code;\n    var room = socket.user.getRoom();\n    var slot = socket.user.getSlot(); // If the user press Esc with the chat selected, blur the chat and return\n\n    if (e.target.id === \"m\" && key === \"Escape\") {\n      e.target.blur();\n      return;\n    } // If the user press Enter without the chat selected, focus the chat and return\n\n\n    if (e.target.id !== \"m\" && key === \"Enter\" && room !== \"\") {\n      e.preventDefault();\n      document.querySelector(\"#m\").focus();\n      return false;\n    }\n\n    if (room === \"\" || slot === \"\" || slot === \"spectator\" || e.target.id === \"m\") {\n      //console.log(\"Failed movement attempt:\", room, slot);\n      return;\n    }\n\n    var x, y;\n\n    if (slot === \"player1\") {\n      x = socket.gameRoom.getPlayerPos(1).x;\n      y = socket.gameRoom.getPlayerPos(1).y;\n    } else {\n      x = socket.gameRoom.getPlayerPos(2).x;\n      y = socket.gameRoom.getPlayerPos(2).y;\n    }\n\n    if ((key === \"KeyW\" || key === \"ArrowUp\") && y !== 0) {\n      movePlayer(0, -1, socket);\n    }\n\n    if ((key === \"KeyD\" || key === \"ArrowRight\") && x !== 4) {\n      movePlayer(1, 0, socket);\n    }\n\n    if ((key === \"KeyS\" || key === \"ArrowDown\") && y !== 4) {\n      movePlayer(0, 1, socket);\n    }\n\n    if ((key === \"KeyA\" || key === \"ArrowLeft\") && x !== 0) {\n      movePlayer(-1, 0, socket);\n    }\n  });\n};\nvar roomCreated = function roomCreated(socket) {\n  socket.on(\"room created\", function (data) {\n    $(\"#room-screen\").hide();\n    socket.gameRoom = new _models_gameRoom__WEBPACK_IMPORTED_MODULE_3__[\"default\"](data.room, true, {\n      id: socket.id,\n      username: socket.user.getUsername(),\n      score: data.score,\n      queue: 0\n    }, \"\", data.obstacles, data.objective);\n    socket.user.setRoom(data.room);\n    socket.user.setSlot(1);\n    _util_Chat__WEBPACK_IMPORTED_MODULE_2__[\"addMessage\"](\"@\", \"You created the room \".concat(data.room, \".\"), false, socket);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"All\"](socket);\n  });\n};\nvar enteringRoom = function enteringRoom(socket) {\n  socket.on(\"entering room\", function (data) {\n    $(\"#room-screen\").hide();\n    console.log(\"Entering room data: \", data);\n    socket.gameRoom = new _models_gameRoom__WEBPACK_IMPORTED_MODULE_3__[\"default\"](data.room, true, data.owner, \"\", \"\", data.objective);\n    var slot;\n    if (data.slot === \"player1\") slot = 1;\n    if (data.slot === \"player2\") slot = 2;\n    if (data.slot === \"spectator\") slot = 3;\n    socket.user.setRoom(data.room);\n    socket.user.setSlot(slot);\n    socket.gameRoom.setObstacles(new Set(data.obstacles.map(function (item) {\n      return JSON.stringify(item);\n    })));\n    socket.gameRoom.userList = data.userList;\n    console.log(\"Entering Room. UserList set to:\", socket.gameRoom.userList);\n    socket.gameRoom.initPlayers(data.player1, data.player2);\n    _util_Chat__WEBPACK_IMPORTED_MODULE_2__[\"addMessage\"](\"@\", \"\".concat(socket.user.getUsername(), \" joined the room.\"), false, socket);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"All\"](socket);\n  });\n};\n\n//# sourceURL=webpack:///./src/client/controllers/game.js?");

/***/ }),

/***/ "./src/client/controllers/room.js":
/*!****************************************!*\
  !*** ./src/client/controllers/room.js ***!
  \****************************************/
/*! exports provided: outOfLives, onUserJoined, onUserLeft */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"outOfLives\", function() { return outOfLives; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onUserJoined\", function() { return onUserJoined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onUserLeft\", function() { return onUserLeft; });\n/* harmony import */ var _util_Chat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Chat */ \"./src/client/util/Chat.js\");\n/* harmony import */ var _util_Render__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Render */ \"./src/client/util/Render.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n\n\nvar outOfLives = function outOfLives(socket) {\n  socket.on(\"out of lives\", function (data) {\n    console.log(data);\n    var room = socket.gameRoom;\n\n    if (data.who === 1) {\n      var loserId = room.player1.id;\n\n      if (loserId === socket.id) {\n        socket.user.setSlot(3);\n        console.log(\"I am loser\");\n      }\n\n      room.userList.forEach(function (u) {\n        if (u.id === room.player2.id) return;\n\n        if (u.id === loserId) {\n          u.queue = room.getOnline();\n          u.slot = \"spectator\";\n          return;\n        }\n\n        u.queue -= 1;\n      });\n      var queuePositions = room.getQueueIdsAndPosition();\n      var ignorePlayer2 = queuePositions.findIndex(function (u) {\n        return u.id === room.player2.id;\n      });\n      queuePositions.splice(ignorePlayer2, 1);\n      console.log(\"Updated queuePositions: \", queuePositions);\n      room.setPlayer(1, room.userList.find(function (u) {\n        return u.id === queuePositions[0].id;\n      }));\n\n      if (queuePositions[0].id === socket.id) {\n        socket.user.setSlot(1);\n      }\n    }\n\n    if (data.who === 2) {\n      var _loserId = room.player2.id;\n\n      if (_loserId === socket.id) {\n        socket.user.setSlot(3);\n        console.log(\"I am loser\");\n      }\n\n      room.userList.forEach(function (u) {\n        if (u.id === room.player1.id) return;\n\n        if (u.id === _loserId) {\n          u.queue = room.getOnline();\n          return;\n        }\n\n        u.queue -= 1;\n      });\n\n      var _queuePositions = room.getQueueIdsAndPosition();\n\n      var ignorePlayer1 = _queuePositions.findIndex(function (u) {\n        return u.id === room.player1.id;\n      });\n\n      _queuePositions.splice(ignorePlayer1, 1);\n\n      console.log(\"Updated queuePositions: \", _queuePositions);\n      room.setPlayer(2, room.userList.find(function (u) {\n        return u.id === _queuePositions[0].id;\n      }));\n\n      if (_queuePositions[0].id === socket.id) {\n        socket.user.setSlot(2);\n      }\n    }\n\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"UI\"](socket);\n    console.log(\"P1\", socket.gameRoom.player1);\n    console.log(\"P2\", socket.gameRoom.player2);\n    console.log(\"UserList\", socket.gameRoom.userList);\n    console.log(\"socket.user\", socket.user);\n  });\n};\nvar onUserJoined = function onUserJoined(socket) {\n  socket.on(\"user joined\", function (data) {\n    _util_Chat__WEBPACK_IMPORTED_MODULE_0__[\"addMessage\"](\"@\", \"\".concat(data.username, \" joined the room.\"), false, socket);\n    socket.gameRoom.addUser(data.user);\n\n    if (socket.gameRoom.getOnline() === 2 && socket.gameRoom.player2.id !== socket.id) {\n      socket.gameRoom.player2.id = data.user.id;\n    }\n\n    console.log(\"An user joined. The current userList now is:\", socket.gameRoom.userList);\n    console.log(\"And p1, p2 is:\", socket.gameRoom.player1, socket.gameRoom.player2);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"UI\"](socket);\n  });\n};\nvar onUserLeft = function onUserLeft(socket) {\n  socket.on(\"user left\", function (data) {\n    _util_Chat__WEBPACK_IMPORTED_MODULE_0__[\"addMessage\"](\"@\", \"\".concat(data.username, \" left the room.\"), false, socket);\n    console.log(\"An user left. The current userList now is:\", _toConsumableArray(socket.gameRoom.userList));\n    console.log(\"And p1, p2 is:\", socket.gameRoom.player1, socket.gameRoom.player2);\n    var room = socket.gameRoom;\n\n    if (data.id === socket.gameRoom.player1.id && !(room.getOnline() <= 2)) {\n      room.userList.forEach(function (u) {\n        if (u.id === room.player2.id) return;\n        u.queue -= 1;\n      });\n      var queuePositions = room.getQueueIdsAndPosition();\n      var ignorePlayer2 = queuePositions.findIndex(function (u) {\n        return u.id === room.player2.id;\n      }); //console.log(\"Pre splice queuePositions: \", [...queuePositions]);\n\n      queuePositions.splice(ignorePlayer2, 1);\n      var ignoreLeavingPerson = queuePositions.findIndex(function (u) {\n        //console.log(\"uid dataid\",u.id,data.id);\n        //if (u.id === data.id) console.log(\"ignoreLeavingPerson = \", u.username);\n        return u.id === data.id;\n      });\n      queuePositions.splice(ignoreLeavingPerson, 1); //console.log(\"Updated queuePositions: \", queuePositions);\n\n      room.setPlayer(1, room.userList.find(function (u) {\n        return u.id === queuePositions[0].id;\n      }));\n\n      if (queuePositions[0].id === socket.id) {\n        socket.user.setSlot(1);\n      }\n    }\n\n    if (data.id === socket.gameRoom.player2.id && !(room.getOnline() <= 2)) {\n      room.userList.forEach(function (u) {\n        if (u.id === room.player1.id) return;\n        u.queue -= 1;\n      });\n\n      var _queuePositions2 = room.getQueueIdsAndPosition();\n\n      var ignorePlayer1 = _queuePositions2.findIndex(function (u) {\n        return u.id === room.player1.id;\n      }); //console.log(\"Pre splice queuePositions: \", [...queuePositions]);\n\n\n      _queuePositions2.splice(ignorePlayer1, 1);\n\n      var _ignoreLeavingPerson = _queuePositions2.findIndex(function (u) {\n        //console.log(\"uid dataid\",u.id,data.id);\n        //if (u.id === data.id) console.log(\"ignoreLeavingPerson = \", u.username);\n        return u.id === data.id;\n      });\n\n      _queuePositions2.splice(_ignoreLeavingPerson, 1); //console.log(\"Updated queuePositions: \", queuePositions);\n\n\n      room.setPlayer(2, room.userList.find(function (u) {\n        return u.id === _queuePositions2[0].id;\n      }));\n\n      if (_queuePositions2[0].id === socket.id) {\n        socket.user.setSlot(2);\n      }\n    }\n\n    socket.gameRoom.removeUserById(data.id);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"UI\"](socket);\n  });\n};\n\n//# sourceURL=webpack:///./src/client/controllers/room.js?");

/***/ }),

/***/ "./src/client/controllers/user.js":
/*!****************************************!*\
  !*** ./src/client/controllers/user.js ***!
  \****************************************/
/*! exports provided: onLoginSubmit, onEnterRoomSubmit, onCreateRoomSubmit, onLeaveRoom, onError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onLoginSubmit\", function() { return onLoginSubmit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onEnterRoomSubmit\", function() { return onEnterRoomSubmit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onCreateRoomSubmit\", function() { return onCreateRoomSubmit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onLeaveRoom\", function() { return onLeaveRoom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onError\", function() { return onError; });\n/* harmony import */ var _util_Input__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Input */ \"./src/client/util/Input.js\");\n/* harmony import */ var _util_Render__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Render */ \"./src/client/util/Render.js\");\n/* harmony import */ var _util_Chat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/Chat */ \"./src/client/util/Chat.js\");\n\n\n\nvar onLoginSubmit = function onLoginSubmit(socket) {\n  document.querySelector(\"#login-form\").addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n    var name = _util_Input__WEBPACK_IMPORTED_MODULE_0__[\"clean\"]($(\"#l\").val().trim());\n\n    if (!_util_Input__WEBPACK_IMPORTED_MODULE_0__[\"isValid\"](name)) {\n      alert(\"Invalid username \\\"\".concat(name, \"\\\"\"));\n      return false;\n    }\n\n    $(\"#login-screen\").hide();\n    socket.user.login(name);\n    _util_Render__WEBPACK_IMPORTED_MODULE_1__[\"UI\"](socket);\n    socket.emit(\"login\", {\n      username: name\n    });\n  });\n};\nvar onEnterRoomSubmit = function onEnterRoomSubmit(socket) {\n  document.querySelector(\"#enter-room-form\").addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n    var username = socket.user.getUsername();\n    var roomName = _util_Input__WEBPACK_IMPORTED_MODULE_0__[\"clean\"]($(\"#er\").val().trim());\n\n    if (_util_Input__WEBPACK_IMPORTED_MODULE_0__[\"isValid\"](roomName)) {\n      socket.emit(\"enter room\", {\n        username: username,\n        roomName: roomName\n      });\n    }\n\n    return false;\n  });\n};\nvar onCreateRoomSubmit = function onCreateRoomSubmit(socket) {\n  document.querySelector(\"#create-room-form\").addEventListener(\"submit\", function (e) {\n    e.preventDefault();\n    var username = socket.user.getUsername();\n    var roomName = _util_Input__WEBPACK_IMPORTED_MODULE_0__[\"clean\"]($(\"#cr\").val().trim());\n\n    if (_util_Input__WEBPACK_IMPORTED_MODULE_0__[\"isValid\"](roomName)) {\n      socket.emit(\"create room\", {\n        username: username,\n        roomName: roomName\n      });\n    } else {\n      alert(\"invalid room name\");\n    }\n\n    return false;\n  });\n};\nvar onLeaveRoom = function onLeaveRoom(socket) {\n  document.querySelector(\"#leave-room\").addEventListener(\"click\", function (e) {\n    var username = socket.user.getUsername();\n    var room = socket.user.getRoom();\n    if (room === \"\") return false;\n    socket.emit(\"leave room\", {\n      username: username,\n      room: room\n    });\n    socket.user.reset();\n    $(\"#room-screen\").show();\n    _util_Chat__WEBPACK_IMPORTED_MODULE_2__[\"clearChat\"]();\n    return false;\n  });\n};\nvar onError = function onError(socket) {\n  socket.on(\"invalid\", function (e) {\n    return alert(e.error);\n  });\n  socket.on(\"disconnect\", function () {\n    alert(\"You have been disconnected.\");\n  });\n  socket.on(\"reconnect\", function () {\n    return window.location = \"/\";\n  });\n};\n/*$(\"#login-form\").submit(e => {\n  e.preventDefault();\n  let name = Input.clean(\n    $(\"#l\")\n      .val()\n      .trim()\n  );\n  if (!Input.isValid(name)) {\n    return false;\n  }\n  $(\"#login-screen\").hide();\n  username = name;\n  RENDER.UI();\n  socket.emit(\"login\", { username });\n});\n\n$(\"#enter-room-form\").submit(e => {\n  e.preventDefault();\n  let roomName = Input.clean(\n    $(\"#er\")\n      .val()\n      .trim()\n  );\n  if (Input.isValid(roomName)) {\n    socket.emit(\"enter room\", { username, roomName });\n    // SHOW SOME SPINNER\n  }\n  return false;\n});\n\n$(\"#create-room-form\").submit(e => {\n  e.preventDefault();\n  let roomName = Input.clean(\n    $(\"#cr\")\n      .val()\n      .trim()\n  );\n  if (Input.isValid(roomName)) {\n    // Creating room logic here\n    socket.emit(\"create room\", { username, roomName });\n    // SHOW SOME SPINNER\n  } else {\n    alert(\"invalid room name\");\n  }\n  return false;\n});\n\nsocket.on(\"invalid\", e => alert(e.error));\nsocket.on(\"disconnect\", () => {\n  alert(\"You have been disconnected.\");\n});\nsocket.on(\"reconnect\", () => (window.location = \"/\"));*/\n\n//# sourceURL=webpack:///./src/client/controllers/user.js?");

/***/ }),

/***/ "./src/client/models/gameRoom.js":
/*!***************************************!*\
  !*** ./src/client/models/gameRoom.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GameRoom; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar GameRoom =\n/*#__PURE__*/\nfunction () {\n  function GameRoom(roomName, isPublic, owner, password, obstacles, objective) {\n    _classCallCheck(this, GameRoom);\n\n    /* Room */\n    this.name = roomName;\n    /* User List: Array of {\n      id: String id,\n      username: String username,\n      score: Number score,\n      queue: Number queueOrder\n    }*/\n\n    this.userList = [{\n      id: owner.id,\n      username: owner.username,\n      score: 0,\n      queue: 0\n    }];\n    this.owner = owner;\n    this.isPublic = isPublic;\n    this.password = password;\n    /* Game */\n\n    this.obstacles = obstacles;\n    this.objective = objective;\n    this.player1 = {\n      id: owner.id,\n      position: {\n        x: 0,\n        y: 0\n      },\n      lives: 5\n    };\n    this.player2 = {\n      id: \"\",\n      position: {\n        x: 0,\n        y: 0\n      },\n      lives: 5\n    };\n  }\n\n  _createClass(GameRoom, [{\n    key: \"getOnline\",\n    value: function getOnline() {\n      return this.userList.length;\n    }\n  }, {\n    key: \"addUser\",\n    value: function addUser(user) {\n      this.userList.push(user);\n    }\n  }, {\n    key: \"getUserById\",\n    value: function getUserById(id) {\n      return this.userList.find(function (user) {\n        return user.id === id;\n      });\n    }\n  }, {\n    key: \"removeUserById\",\n    value: function removeUserById(id) {\n      var indexToRemove = this.userList.findIndex(function (u) {\n        return u.id === id;\n      });\n      this.userList.splice(indexToRemove, 1);\n    }\n  }, {\n    key: \"getLeaderboardUserList\",\n    value: function getLeaderboardUserList() {\n      return Array.from(this.userList).sort(function (a, b) {\n        return a.score - b.score;\n      });\n    }\n  }, {\n    key: \"getLeaderboardNames\",\n    value: function getLeaderboardNames() {\n      return Array.from(this.userList).sort(function (a, b) {\n        return a.score - b.score;\n      }).map(function (user) {\n        return user.username;\n      });\n    }\n  }, {\n    key: \"getLeaderboardNamesAndScore\",\n    value: function getLeaderboardNamesAndScore() {\n      var userList = Array.from(this.userList);\n      userList.sort(function (a, b) {\n        return b.score - a.score;\n      });\n      return userList.map(function (userInList) {\n        //console.log({ username: userInList.username, score: userInList.score });\n        return {\n          username: userInList.username,\n          score: userInList.score\n        };\n      });\n    }\n  }, {\n    key: \"scoreUp\",\n    value: function scoreUp(whoId) {\n      //console.log(\"Score Up UserList: \", this.userList);\n      //console.log(\"Score Up whoId:\", whoId);\n      var userIndex = this.userList.findIndex(function (u) {\n        return u.id === whoId;\n      });\n      this.userList[userIndex].score += 1;\n\n      if (this.userList[userIndex].id === this.player1.id) {\n        this.player2.lives -= 1; // Do UI stuff\n      }\n\n      if (this.userList[userIndex].id === this.player2.id) {\n        this.player1.lives -= 1; // Do UI stuff\n      }\n    }\n  }, {\n    key: \"getQueueUserList\",\n    value: function getQueueUserList() {\n      return Array.from(this.userList).sort(function (a, b) {\n        return a.queue - b.queue;\n      });\n    }\n  }, {\n    key: \"getQueueNames\",\n    value: function getQueueNames() {\n      return Array.from(this.userList).sort(function (a, b) {\n        return a.queue - b.queue;\n      }).map(function (user) {\n        return user.username;\n      });\n    }\n  }, {\n    key: \"getQueueNamesAndPosition\",\n    value: function getQueueNamesAndPosition() {\n      var userList = Array.from(this.userList);\n      userList.sort(function (a, b) {\n        return a.queue - b.queue;\n      });\n      return userList.map(function (userInList) {\n        //console.log({ username: userInList.username, score: userInList.score });\n        return {\n          username: userInList.username,\n          queue: userInList.queue,\n          id: userInList.id\n        };\n      });\n    }\n  }, {\n    key: \"getQueueIdsAndPosition\",\n    value: function getQueueIdsAndPosition() {\n      var userList = Array.from(this.userList);\n      userList.sort(function (a, b) {\n        return a.queue - b.queue;\n      });\n      return userList.map(function (userInList) {\n        //console.log({ username: userInList.username, score: userInList.score });\n        return {\n          id: userInList.id,\n          queue: userInList.queue,\n          username: userInList.username\n        };\n      });\n    }\n  }, {\n    key: \"setObstacles\",\n    value: function setObstacles(obstacles) {\n      this.obstacles = obstacles;\n    }\n  }, {\n    key: \"getObstacles\",\n    value: function getObstacles() {\n      return this.obstacles;\n    }\n  }, {\n    key: \"setObjective\",\n    value: function setObjective(x, y) {\n      this.objective = {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"getObjective\",\n    value: function getObjective() {\n      return this.objective;\n    }\n  }, {\n    key: \"setPlayer\",\n    value: function setPlayer(slot, user) {\n      if (slot === 1) {\n        this.player1.id = user.id;\n        this.player1.lives = 5;\n      }\n\n      if (slot === 2) {\n        this.player2.id = user.id;\n        this.player2.lives = 5;\n      }\n    }\n  }, {\n    key: \"initPlayers\",\n    value: function initPlayers(player1, player2) {\n      this.player1 = player1;\n      this.player2 = player2;\n    }\n  }, {\n    key: \"getPlayerPos\",\n    value: function getPlayerPos(p) {\n      //console.log(\"getPlayerPos, p1 & p2:\", this.player1, this.player2);\n      if (p === 2) {\n        return this.player2.position;\n      } else {\n        return this.player1.position;\n      }\n    }\n  }, {\n    key: \"setPlayerPos\",\n    value: function setPlayerPos(p, x, y) {\n      if (p === 2) {\n        this.player2.position = {\n          x: x,\n          y: y\n        };\n      } else {\n        this.player1.position = {\n          x: x,\n          y: y\n        };\n      }\n    }\n  }], [{\n    key: \"buildGrid\",\n    value: function buildGrid() {\n      var pBoard = document.querySelector(\"#player1-board\");\n      var eBoard = document.querySelector(\"#player2-board\");\n\n      for (var a = 0; a < 2; a++) {\n        // Clear previous grids\n        if (a) {\n          while (pBoard.firstChild) {\n            pBoard.removeChild(pBoard.firstChild);\n          }\n        } else {\n          while (eBoard.firstChild) {\n            eBoard.removeChild(eBoard.firstChild);\n          }\n        } // Insert new squares\n\n\n        for (var y = 0; y < 5; y++) {\n          for (var x = 0; x < 5; x++) {\n            var div = document.createElement(\"DIV\");\n            div.className = \"square\";\n            div.setAttribute(\"x\", x);\n            div.setAttribute(\"y\", y);\n\n            if (a) {\n              pBoard.appendChild(div);\n            } else {\n              eBoard.appendChild(div);\n            }\n          }\n        }\n      }\n    }\n  }]);\n\n  return GameRoom;\n}();\n\n\n\n//# sourceURL=webpack:///./src/client/models/gameRoom.js?");

/***/ }),

/***/ "./src/client/models/user.js":
/*!***********************************!*\
  !*** ./src/client/models/user.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return User; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar User =\n/*#__PURE__*/\nfunction () {\n  function User(id) {\n    _classCallCheck(this, User);\n\n    this.id = id;\n    this.username = \"\";\n    this.room = \"\";\n    /*either player1 player2 or spectator*/\n\n    this.slot = \"\";\n  }\n\n  _createClass(User, [{\n    key: \"login\",\n    value: function login(username) {\n      this.username = username;\n    }\n  }, {\n    key: \"isLoggedIn\",\n    value: function isLoggedIn() {\n      return !this.username === \"\";\n    }\n  }, {\n    key: \"getId\",\n    value: function getId() {\n      return this.id;\n    }\n  }, {\n    key: \"getUsername\",\n    value: function getUsername() {\n      return this.username;\n    }\n  }, {\n    key: \"getSlot\",\n    value: function getSlot() {\n      return this.slot;\n    }\n  }, {\n    key: \"setSlot\",\n    value: function setSlot(slot) {\n      if (slot === 1) {\n        this.slot = \"player1\";\n        return;\n      }\n\n      if (slot === 2) {\n        this.slot = \"player2\";\n        return;\n      }\n\n      this.slot = \"spectator\";\n    }\n  }, {\n    key: \"isSpectator\",\n    value: function isSpectator() {\n      return this.slot === \"spectator\";\n    }\n  }, {\n    key: \"setRoom\",\n    value: function setRoom(room) {\n      this.room = room;\n    }\n  }, {\n    key: \"getRoom\",\n    value: function getRoom() {\n      return this.room;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.room = \"\";\n      this.slot = \"\";\n    }\n  }]);\n\n  return User;\n}();\n\n\n\n//# sourceURL=webpack:///./src/client/models/user.js?");

/***/ }),

/***/ "./src/client/util/Chat.js":
/*!*********************************!*\
  !*** ./src/client/util/Chat.js ***!
  \*********************************/
/*! exports provided: addMessage, clearChat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addMessage\", function() { return addMessage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearChat\", function() { return clearChat; });\nvar addMessage = function addMessage(name, message) {\n  var broadcast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var socket = arguments.length > 3 ? arguments[3] : undefined;\n  if (socket.user.getUsername() === \"\") console.warn(\"Chat.addMessage(): empty username\");\n  if (name === \"\") console.warn(\"Chat.addMessage(): empty name\");\n  if (message === \"\") console.warn(\"Chat.addMessage(): empty message\");\n  var chatContainer = document.querySelector(\".chat-container\");\n  var div = document.createElement(\"DIV\");\n  var span = document.createElement(\"SPAN\");\n  var text = document.createTextNode(message);\n  span.textContent = name + \" \";\n  span.className = name === socket.user.getUsername() && !broadcast ? \"blue-text\" : \"red-text\";\n  if (name === \"@\") span.className = \"grey-text\";\n  div.appendChild(span);\n  div.appendChild(text);\n  div.className = \"animated fadeIn fastest chat-message\";\n  chatContainer.appendChild(div);\n  chatContainer.scrollTop += 1000;\n};\nvar clearChat = function clearChat() {\n  var chatContainer = document.querySelector(\".chat-container\");\n\n  while (chatContainer.firstChild) {\n    chatContainer.removeChild(chatContainer.firstChild);\n  }\n}; // clearChat()\n\n//# sourceURL=webpack:///./src/client/util/Chat.js?");

/***/ }),

/***/ "./src/client/util/Input.js":
/*!**********************************!*\
  !*** ./src/client/util/Input.js ***!
  \**********************************/
/*! exports provided: clean, isValid */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clean\", function() { return clean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isValid\", function() { return isValid; });\nvar clean = function clean(input) {\n  return $(\"<div/>\").text(input).html();\n};\nvar isValid = function isValid(input) {\n  return !(!input || input == \"\" || input.length < 3 || input.length > 15);\n};\n\n//# sourceURL=webpack:///./src/client/util/Input.js?");

/***/ }),

/***/ "./src/client/util/Render.js":
/*!***********************************!*\
  !*** ./src/client/util/Render.js ***!
  \***********************************/
/*! exports provided: Player1, Player2, Obstacles, Objective, UI, All */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Player1\", function() { return Player1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Player2\", function() { return Player2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Obstacles\", function() { return Obstacles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Objective\", function() { return Objective; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UI\", function() { return UI; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"All\", function() { return All; });\n/* harmony import */ var _Square__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Square */ \"./src/client/util/Square.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { if (i % 2) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } else { Object.defineProperties(target, Object.getOwnPropertyDescriptors(arguments[i])); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar previousSlot1Lives;\nvar previousSlot2Lives;\nvar Player1 = function Player1(pos) {\n  document.querySelectorAll(\".square.player\").forEach(function (square) {\n    square.classList.remove(\"player\");\n  });\n  document.querySelectorAll(\"#player2-board .square.shadow\").forEach(function (square) {\n    square.classList.remove(\"shadow\");\n  });\n  _Square__WEBPACK_IMPORTED_MODULE_0__[\"at\"](pos.x, pos.y).classList.add(\"player\");\n  _Square__WEBPACK_IMPORTED_MODULE_0__[\"enemyAt\"](pos.x, pos.y).classList.add(\"shadow\");\n};\nvar Player2 = function Player2(pos) {\n  document.querySelectorAll(\".square.enemy\").forEach(function (square) {\n    square.classList.remove(\"enemy\");\n  });\n  document.querySelectorAll(\"#player1-board .square.shadow\").forEach(function (square) {\n    square.classList.remove(\"shadow\");\n  });\n  _Square__WEBPACK_IMPORTED_MODULE_0__[\"enemyAt\"](pos.x, pos.y).classList.add(\"enemy\");\n  _Square__WEBPACK_IMPORTED_MODULE_0__[\"at\"](pos.x, pos.y).classList.add(\"shadow\");\n};\nvar Obstacles = function Obstacles(obstacles) {\n  document.querySelectorAll(\".square.obstacle\").forEach(function (square) {\n    square.classList.remove(\"obstacle\");\n  });\n  obstacles.forEach(function (obstacle) {\n    var position = _objectSpread({}, JSON.parse(obstacle));\n\n    _Square__WEBPACK_IMPORTED_MODULE_0__[\"at\"](position.x, position.y).classList.add(\"obstacle\");\n    _Square__WEBPACK_IMPORTED_MODULE_0__[\"enemyAt\"](position.x, position.y).classList.add(\"obstacle\");\n  });\n};\nvar Objective = function Objective(objective) {\n  document.querySelectorAll(\".square.objective\").forEach(function (square) {\n    square.classList.remove(\"objective\");\n  });\n  _Square__WEBPACK_IMPORTED_MODULE_0__[\"at\"](objective.x, objective.y).classList.add(\"objective\");\n  _Square__WEBPACK_IMPORTED_MODULE_0__[\"enemyAt\"](objective.x, objective.y).classList.add(\"objective\");\n};\nvar UI = function UI(socket) {\n  var username = socket.user.getUsername();\n  document.querySelectorAll(\".username\").forEach(function (item) {\n    item.textContent = username;\n  });\n  if (!socket.gameRoom) return;\n  var online = socket.gameRoom.getOnline();\n  var room = socket.user.getRoom();\n  document.querySelectorAll(\".room-num-users\").forEach(function (item) {\n    item.textContent = online;\n  });\n  document.querySelectorAll(\".room\").forEach(function (item) {\n    item.textContent = room;\n  }); // Render leaderboard\n\n  var lb = document.querySelector(\".leaderboard .card-content\");\n\n  while (lb.firstChild) {\n    lb.removeChild(lb.firstChild);\n  }\n\n  socket.gameRoom.getLeaderboardNamesAndScore().forEach(function (userScore, i) {\n    //console.log(\"UserScore:\",userScore);\n    var position = i + 1;\n    var name = userScore.username;\n    var score = userScore.score;\n    var positionSpan = document.createElement(\"SPAN\");\n    positionSpan.textContent = position + \". \";\n    positionSpan.className = \"leaderboard-position\";\n    var nameSpan = document.createElement(\"SPAN\");\n    nameSpan.textContent = name + \" \";\n    nameSpan.className = \"leaderboard-name\";\n    var scoreSpan = document.createElement(\"SPAN\");\n    scoreSpan.textContent = \"(\".concat(score, \")\");\n    scoreSpan.className = \"leaderboard-score\";\n    var div = document.createElement(\"DIV\");\n    div.appendChild(positionSpan);\n    div.appendChild(nameSpan);\n    div.appendChild(scoreSpan);\n    div.className = \"leaderboard-item\";\n    document.querySelector(\".leaderboard .card-content\").appendChild(div);\n  }); // Render queue\n\n  var qu = document.querySelector(\".queue .card-content\");\n\n  while (qu.firstChild) {\n    qu.removeChild(qu.firstChild);\n  }\n\n  socket.gameRoom.getQueueNamesAndPosition().forEach(function (userInQueue, i) {\n    //console.log(\"userInQueue:\",userInQueue);\n    if (userInQueue.id === socket.gameRoom.player1.id || userInQueue.id === socket.gameRoom.player2.id) {\n      return;\n    }\n\n    var name = userInQueue.username;\n    var nameSpan = document.createElement(\"SPAN\");\n    nameSpan.textContent = name + \" \";\n    nameSpan.className = \"leaderboard-name\";\n    var div = document.createElement(\"DIV\");\n    div.appendChild(nameSpan);\n    div.className = \"leaderboard-item\";\n    document.querySelector(\".queue .card-content\").appendChild(div);\n  });\n  document.querySelectorAll(\".slot1-name\").forEach(function (item) {\n    item.textContent = socket.gameRoom.userList.find(function (u) {\n      return u.id === socket.gameRoom.player1.id;\n    }).username;\n  });\n  document.querySelectorAll(\".slot1-lives\").forEach(function (item) {\n    item.textContent = socket.gameRoom.player1.lives + \"💖\";\n\n    if (previousSlot1Lives !== socket.gameRoom.player1.lives) {\n      item.classList.add(\"animated\");\n      item.classList.add(\"bounceIn\");\n      item.classList.add(\"fastest\");\n      setTimeout(function () {\n        item.classList.remove(\"animated\");\n        item.classList.remove(\"bounceIn\");\n        item.classList.remove(\"fastest\");\n      }, 150);\n      previousSlot1Lives = socket.gameRoom.player1.lives;\n    }\n  });\n\n  try {\n    document.querySelectorAll(\".slot2-name\").forEach(function (item) {\n      item.textContent = socket.gameRoom.userList.find(function (u) {\n        return u.id === socket.gameRoom.player2.id;\n      }).username;\n    });\n    document.querySelectorAll(\".slot2-lives\").forEach(function (item) {\n      item.textContent = socket.gameRoom.player2.lives + \"💖\";\n\n      if (previousSlot2Lives !== socket.gameRoom.player2.lives) {\n        item.classList.add(\"animated\");\n        item.classList.add(\"bounceIn\");\n        item.classList.add(\"fastest\");\n        setTimeout(function () {\n          item.classList.remove(\"animated\");\n          item.classList.remove(\"bounceIn\");\n          item.classList.remove(\"fastest\");\n        }, 150);\n        previousSlot2Lives = socket.gameRoom.player2.lives;\n      }\n    });\n  } catch (e) {\n    console.log(\"Tried to render slot2 UI info. But p2 not found.\");\n  }\n};\nvar All = function All(socket) {\n  Player1(socket.gameRoom.getPlayerPos(1));\n  Player2(socket.gameRoom.getPlayerPos(2));\n  Obstacles(socket.gameRoom.getObstacles());\n  Objective(socket.gameRoom.getObjective());\n  UI(socket);\n};\n\n//# sourceURL=webpack:///./src/client/util/Render.js?");

/***/ }),

/***/ "./src/client/util/Square.js":
/*!***********************************!*\
  !*** ./src/client/util/Square.js ***!
  \***********************************/
/*! exports provided: hasObstacle, at, enemyAt, isSame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasObstacle\", function() { return hasObstacle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"at\", function() { return at; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enemyAt\", function() { return enemyAt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSame\", function() { return isSame; });\nvar hasObstacle = function hasObstacle(x, y, obstacles) {\n  //console.log(typeof obstacles, obstacles);\n  return new Set(obstacles).has(JSON.stringify({\n    x: x,\n    y: y\n  }));\n};\nvar at = function at(x, y) {\n  return document.querySelector(\"#player1-board [x=\\\"\".concat(x, \"\\\"][y=\\\"\").concat(y, \"\\\"]\"));\n};\nvar enemyAt = function enemyAt(x, y) {\n  return document.querySelector(\"#player2-board [x=\\\"\".concat(x, \"\\\"][y=\\\"\").concat(y, \"\\\"]\"));\n};\nvar isSame = function isSame(pos1, pos2) {\n  return pos1.x === pos2.x && pos1.y === pos2.y;\n};\n\n//# sourceURL=webpack:///./src/client/util/Square.js?");

/***/ })

/******/ });